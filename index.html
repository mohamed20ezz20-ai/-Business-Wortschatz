<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>üá©üá™ Wortschatz Flashcards | WFA Akademie</title>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Google Sans', 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #0a1929, #0c243d, #0a1929);
      color: #e6f0ff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
      position: relative;
      overflow-x: hidden;
      line-height: 1.5;
    }
    
    body::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(30, 80, 150, 0.1) 0%, rgba(10, 30, 60, 0.4) 100%);
      z-index: -1;
    }
    
    .app-container {
      width: 100%;
      max-width: 500px;
      min-height: 100vh;
      background: rgba(15, 28, 45, 0.95);
      border-radius: 24px;
      box-shadow: 0 15px 40px rgba(0, 20, 40, 0.6);
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
      border: 2px solid rgba(58, 123, 213, 0.4);
    }
    
    .app-header {
      background: linear-gradient(120deg, #0a1929, #0c243d);
      padding: 18px 20px;
      text-align: center;
      position: relative;
      box-shadow: 0 3px 15px rgba(0, 0, 0, 0.4);
      z-index: 10;
      height: 110px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-bottom: 3px solid #2a56a3;
    }
    
    .logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .logo-letters {
      display: flex;
      gap: 10px;
      margin-bottom: 6px;
    }
    
    .logo-letter {
      font-size: 44px;
      font-weight: 800;
      position: relative;
      animation: float 3.5s ease-in-out infinite;
      text-shadow: 0 0 15px rgba(70, 150, 255, 0.7);
    }
    
    .logo-letter.w { color: #ffffff; animation-delay: 0s; }
    .logo-letter.f { color: #3a7bd5; animation-delay: 0.2s; }
    .logo-letter.a { color: #00a8ff; animation-delay: 0.4s; }
    
    .logo-subtitle {
      font-size: 19px;
      font-weight: 700;
      color: #3a7bd5;
      letter-spacing: 1.2px;
      text-transform: uppercase;
      background: linear-gradient(90deg, #3a7bd5, #00a8ff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .screen {
      display: none;
      padding: 25px;
      flex-grow: 1;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      animation: fadeIn 0.45s ease-out;
    }
    
    .screen.active {
      display: flex;
      flex-direction: column;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(25px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .screen-title {
      font-size: 28px;
      font-weight: 800;
      text-align: center;
      margin: 15px 0 25px;
      color: #00a8ff;
      text-shadow: 0 0 15px rgba(0, 168, 255, 0.4);
      position: relative;
      line-height: 1.3;
    }
    
    .screen-title::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 75%;
      height: 4px;
      background: linear-gradient(90deg, #0a1929, #3a7bd5, #00a8ff, #3a7bd5, #0a1929);
      border-radius: 2px;
    }
    
    .subtitle {
      text-align: center;
      font-size: 18px;
      color: #8ab4f8;
      margin-bottom: 30px;
      line-height: 1.5;
      font-weight: 500;
    }
    
    .category-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 18px;
      margin: 25px 0;
    }
    
    .category-card {
      background: rgba(30, 50, 85, 0.85);
      border-radius: 20px;
      padding: 22px 15px;
      text-align: center;
      cursor: pointer;
      transition: all 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 6px 18px rgba(0, 30, 70, 0.45);
      border: 2px solid rgba(58, 123, 213, 0.3);
      position: relative;
      overflow: hidden;
    }
    
    .category-card::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(58, 123, 213, 0.2) 0%, transparent 70%);
      z-index: -1;
      transform: rotate(30deg);
      transition: transform 0.8s ease;
    }
    
    .category-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 10px 25px rgba(0, 40, 100, 0.65);
      border-color: rgba(58, 123, 213, 0.6);
    }
    
    .category-card:hover::before {
      transform: rotate(30deg) translate(20%, 0);
    }
    
    .category-icon {
      font-size: 42px;
      margin-bottom: 15px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .category-title {
      font-size: 21px;
      font-weight: 700;
      color: #61a9f9;
      margin-bottom: 8px;
    }
    
    .category-count {
      font-size: 17px;
      color: #b9d1ff;
      font-weight: 500;
    }
    
    .flashcard-container {
      perspective: 1000px;
      width: 100%;
      max-width: 450px;
      margin: 20px auto;
      position: relative;
    }
    
    .flashcard {
      width: 100%;
      height: 320px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      margin: 0 auto;
    }
    
    .flashcard.flipped {
      transform: rotateY(180deg);
    }
    
    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 24px;
      padding: 25px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      box-shadow: 0 12px 30px rgba(0, 20, 50, 0.5);
      border: 2px solid rgba(58, 123, 213, 0.4);
    }
    
    .card-front {
      background: linear-gradient(145deg, #1a2a4a, #15233d);
      transform: rotateY(0deg);
      padding-top: 35px;
    }
    
    .card-back {
      background: linear-gradient(145deg, #1e3255, #182a48);
      transform: rotateY(180deg);
      border: 2px solid rgba(0, 168, 255, 0.5);
      padding-top: 25px;
    }
    
    .word-icon {
      font-size: 68px;
      margin-bottom: 15px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulseIcon 2s infinite;
      text-shadow: 0 0 20px rgba(97, 169, 249, 0.6);
    }
    
    @keyframes pulseIcon {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    .word-german {
      font-size: 38px;
      font-weight: 800;
      color: #ffffff;
      margin-bottom: 10px;
      text-shadow: 0 0 15px rgba(97, 169, 249, 0.7);
      line-height: 1.2;
      letter-spacing: -0.3px;
    }
    
    .word-article {
      font-size: 28px;
      color: #8ab4f8;
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .word-category {
      font-size: 18px;
      color: #61a9f9;
      margin-bottom: 15px;
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
    }
    
    .meaning-title {
      font-size: 24px;
      font-weight: 700;
      color: #00a8ff;
      margin-bottom: 15px;
      text-shadow: 0 0 10px rgba(0, 168, 255, 0.4);
    }
    
    .meaning-text {
      font-size: 19px;
      line-height: 1.55;
      color: #e6f0ff;
      margin-bottom: 18px;
      padding: 0 10px;
    }
    
    .synonyms-title {
      font-size: 19px;
      color: #8ab4f8;
      margin: 15px 0 10px;
      font-weight: 600;
    }
    
    .synonyms-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      margin-top: 8px;
      padding: 0 5px;
    }
    
    .synonym {
      background: rgba(0, 100, 200, 0.25);
      border-radius: 14px;
      padding: 5px 14px;
      font-size: 16px;
      color: #61a9f9;
      font-weight: 500;
      border: 1px solid rgba(97, 169, 249, 0.4);
      min-width: 80px;
    }
    
    .controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 25px;
      flex-wrap: wrap;
    }
    
    .control-btn {
      background: linear-gradient(120deg, #3a7bd5, #00a8ff);
      color: white;
      border: none;
      padding: 15px 28px;
      font-size: 18px;
      font-weight: 700;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 6px 20px rgba(0, 120, 255, 0.45);
      min-width: 160px;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .control-btn::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transform: rotate(30deg);
      transition: all 0.8s;
    }
    
    .control-btn:hover::before {
      transform: rotate(30deg) translate(50%, 0);
    }
    
    .control-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 9px 25px rgba(0, 120, 255, 0.65);
    }
    
    .control-btn:active {
      transform: translateY(1px);
    }
    
    .btn-next {
      background: linear-gradient(120deg, #00c853, #64dd17);
      box-shadow: 0 6px 20px rgba(0, 200, 83, 0.45);
    }
    
    .btn-next:hover {
      box-shadow: 0 9px 25px rgba(0, 200, 83, 0.65);
    }
    
    .progress-container {
      background: rgba(30, 60, 100, 0.6);
      border-radius: 15px;
      height: 12px;
      margin: 20px 0 30px;
      overflow: hidden;
      border: 1px solid rgba(97, 169, 249, 0.4);
      position: relative;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #3a7bd5, #00a8ff);
      border-radius: 15px;
      width: 0%;
      transition: width 0.6s ease;
      position: relative;
      overflow: hidden;
    }
    
    .progress-bar::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0.2) 100%);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .progress-text {
      text-align: center;
      font-size: 18px;
      color: #8ab4f8;
      font-weight: 600;
      margin-bottom: 8px;
    }
    
    .instructions-box {
      background: rgba(30, 50, 85, 0.8);
      border-radius: 18px;
      padding: 20px;
      margin: 20px 0;
      border: 1px solid rgba(97, 169, 249, 0.3);
      text-align: left;
      font-size: 16px;
      line-height: 1.6;
    }
    
    .instructions-box strong {
      color: #61a9f9;
    }
    
    .confetti {
      position: absolute;
      width: 8px;
      height: 8px;
      background-color: #f00;
      border-radius: 50%;
      animation: confetti-fall 5s ease-in-out forwards;
      z-index: 2000;
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(2deg); }
    }
    
    /* Responsive adjustments */
    @media (max-width: 480px) {
      .app-container {
        border-radius: 0;
        min-height: 100vh !important;
        box-shadow: none;
        border: none;
      }
      
      .header {
        height: 100px;
        padding: 15px;
      }
      
      .logo-letter {
        font-size: 38px;
      }
      
      .logo-subtitle {
        font-size: 17px;
      }
      
      .screen {
        padding: 20px 15px;
      }
      
      .screen-title {
        font-size: 25px;
        margin: 10px 0 20px;
      }
      
      .subtitle {
        font-size: 16px;
        margin-bottom: 25px;
      }
      
      .category-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .category-card {
        padding: 20px 12px;
      }
      
      .category-icon {
        font-size: 36px;
        height: 50px;
      }
      
      .category-title {
        font-size: 19px;
      }
      
      .category-count {
        font-size: 16px;
      }
      
      .flashcard {
        height: 300px;
      }
      
      .word-icon {
        font-size: 58px;
        height: 70px;
      }
      
      .word-german {
        font-size: 34px;
      }
      
      .word-article {
        font-size: 25px;
      }
      
      .meaning-title {
        font-size: 22px;
      }
      
      .meaning-text {
        font-size: 18px;
      }
      
      .synonym {
        font-size: 15px;
        padding: 4px 12px;
      }
      
      .control-btn {
        padding: 14px 24px;
        font-size: 17px;
        min-width: 140px;
      }
      
      .instructions-box {
        font-size: 15px;
        padding: 15px;
      }
    }
    
    @media (max-width: 360px) {
      .flashcard {
        height: 290px;
      }
      
      .word-icon {
        font-size: 52px;
        height: 65px;
      }
      
      .word-german {
        font-size: 32px;
      }
      
      .word-article {
        font-size: 23px;
      }
      
      .meaning-text {
        font-size: 17px;
      }
      
      .control-btn {
        padding: 13px 22px;
        font-size: 16px;
        min-width: 130px;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Category Selection Screen -->
    <div class="screen active" id="screen-categories">
      <div class="app-header">
        <div class="logo-container">
          <div class="logo-letters">
            <div class="logo-letter w">W</div>
            <div class="logo-letter f">F</div>
            <div class="logo-letter a">A</div>
          </div>
          <div class="logo-subtitle">Akademie</div>
        </div>
      </div>
      
      <h1 class="screen-title">üìö Business-Wortschatz</h1>
      <p class="subtitle">Lerne wichtige deutsche W√∂rter f√ºr den Arbeitsalltag</p>
      
      <div class="instructions-box">
        <strong>üìñ Lernmethode:</strong><br>
        ‚Ä¢ Tippe auf die Karte, um die Bedeutung zu sehen<br>
        ‚Ä¢ Lerne mit visuellen Symbolen und Synonymen<br>
        ‚Ä¢ 17 wichtige W√∂rter f√ºr A2/B1-Niveau
      </div>
      
      <div class="category-grid">
        <div class="category-card" data-category="all">
          <div class="category-icon">üíº</div>
          <div class="category-title">Alle W√∂rter</div>
          <div class="category-count">17 Karten</div>
        </div>
        <div class="category-card" data-category="people">
          <div class="category-icon">üë∑</div>
          <div class="category-title">Menschen</div>
          <div class="category-count">5 W√∂rter</div>
        </div>
        <div class="category-card" data-category="places">
          <div class="category-icon">üè≠</div>
          <div class="category-title">Orte</div>
          <div class="category-count">4 W√∂rter</div>
        </div>
        <div class="category-card" data-category="transport">
          <div class="category-icon">üöö</div>
          <div class="category-title">Transport</div>
          <div class="category-count">3 W√∂rter</div>
        </div>
      </div>
      
      <div class="controls">
        <button class="control-btn btn-next" id="startBtn">
          üöÄ Start Lernen
        </button>
      </div>
    </div>
    
    <!-- Flashcard Screen -->
    <div class="screen" id="screen-flashcard">
      <div class="app-header">
        <div class="logo-container">
          <div class="logo-letters">
            <div class="logo-letter w">W</div>
            <div class="logo-letter f">F</div>
            <div class="logo-letter a">A</div>
          </div>
          <div class="logo-subtitle">Akademie</div>
        </div>
      </div>
      
      <h1 class="screen-title">üß† Flashcard Training</h1>
      
      <div class="progress-text">Karte <span id="currentCard">1</span> von <span id="totalCards">17</span></div>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      
      <div class="flashcard-container">
        <div class="flashcard" id="flashcard">
          <div class="card-face card-front">
            <div class="word-icon" id="wordIcon">üë∑</div>
            <div class="word-article" id="wordArticle">der</div>
            <div class="word-german" id="wordGerman">Arbeiter</div>
            <div class="word-category" id="wordCategory">Menschen</div>
          </div>
          <div class="card-face card-back">
            <div class="meaning-title">Bedeutung</div>
            <div class="meaning-text" id="wordMeaning">jemand, der k√∂rperliche Arbeit in einem Betrieb oder auf einer Baustelle verrichtet</div>
            <div class="synonyms-title">Synonyme</div>
            <div class="synonyms-list" id="wordSynonyms">
              <div class="synonym">Werkt√§tiger</div>
              <div class="synonym">Fabrikarbeiter</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="controls">
        <button class="control-btn" id="prevBtn">
          ‚óÄ Zur√ºck
        </button>
        <button class="control-btn btn-next" id="nextBtn">
          Weiter ‚ñ∂
        </button>
      </div>
    </div>
  </div>

  <script>
    // ======================
    // WORTSCHATZ DATEN MIT VISUELLEN SYMBOL
    // ======================
    const vocabulary = [
      {
        word: "Arbeiter",
        article: "der",
        category: "Menschen",
        icon: "üë∑",
        meaning: "jemand, der k√∂rperliche Arbeit in einem Betrieb oder auf einer Baustelle verrichtet",
        synonyms: ["Werkt√§tiger", "Fabrikarbeiter", "Handwerker"],
        color: "#ff6b6b"
      },
      {
        word: "Angestellte",
        article: "die",
        category: "Menschen",
        icon: "üë©‚Äçüíº",
        meaning: "jemand, der in einem B√ºro oder einer Firma kaufm√§nnische oder verwaltende T√§tigkeiten ausf√ºhrt",
        synonyms: ["B√ºrokauffrau", "Sachbearbeiterin", "Mitarbeiterin"],
        color: "#ff6b6b"
      },
      {
        word: "Betrieb",
        article: "der",
        category: "Orte",
        icon: "üè≠",
        meaning: "eine Firma oder Einrichtung, in der gearbeitet wird",
        synonyms: ["Unternehmen", "Firma", "Institution"],
        color: "#48dbfb"
      },
      {
        word: "Firma",
        article: "die",
        category: "Orte",
        icon: "üè¢",
        meaning: "ein Unternehmen, das Waren herstellt oder Dienstleistungen anbietet",
        synonyms: ["Unternehmen", "Gesellschaft", "Organisation"],
        color: "#48dbfb"
      },
      {
        word: "Lager",
        article: "das",
        category: "Orte",
        icon: "üì¶",
        meaning: "ein Raum oder Geb√§ude, in dem Waren gelagert werden",
        synonyms: ["Magazin", "Speicher", "Depot"],
        color: "#48dbfb"
      },
      {
        word: "Halle",
        article: "die",
        category: "Orte",
        icon: "üè≠",
        meaning: "ein gro√üer, offener Raum in einem Industriegeb√§ude",
        synonyms: ["Werkshalle", "Fabrikraum", "Gro√üraum"],
        color: "#48dbfb"
      },
      {
        word: "LKW",
        article: "der",
        category: "Transport",
        icon: "üöö",
        meaning: "Lastkraftwagen ‚Äì ein gro√ües Fahrzeug zum Transport von Waren",
        synonyms: ["Lastwagen", "Transporter", "Brummifahrer (ugs.)"],
        color: "#a4b0be"
      },
      {
        word: "Import",
        article: "der",
        category: "Transport/Handel",
        icon: "‚¨áÔ∏è",
        meaning: "das Einf√ºhren von Waren aus dem Ausland",
        synonyms: ["Einfuhr", "Importgesch√§ft"],
        color: "#a4b0be"
      },
      {
        word: "Export",
        article: "der",
        category: "Transport/Handel",
        icon: "‚¨ÜÔ∏è",
        meaning: "das Ausf√ºhren von Waren ins Ausland",
        synonyms: ["Ausfuhr", "Exportgesch√§ft"],
        color: "#a4b0be"
      },
      {
        word: "Maschine",
        article: "die",
        category: "Ger√§te",
        icon: "‚öôÔ∏è",
        meaning: "ein technisches Ger√§t, das Arbeit verrichtet",
        synonyms: ["Ger√§t", "Apparat", "Anlage"],
        color: "#1dd1a1"
      },
      {
        word: "erfolgreich",
        article: "",
        category: "Adjektive",
        icon: "‚úÖ",
        meaning: "mit Erfolg verbunden; ein gutes Ergebnis erzielend",
        synonyms: ["siegreich", "gl√ºcklich", "wirksam", "zielf√ºhrend"],
        color: "#feca57"
      },
      {
        word: "wichtig",
        article: "",
        category: "Adjektive",
        icon: "‚ùó",
        meaning: "von gro√üer Bedeutung oder Bedeutung",
        synonyms: ["bedeutsam", "signifikant", "relevant", "ausschlaggebend"],
        color: "#feca57"
      },
      {
        word: "g√ºnstig",
        article: "",
        category: "Adjektive",
        icon: "üí∞",
        meaning: "vorteilhaft; unter normalen Bedingungen; bei sch√∂nem Wetter",
        synonyms: ["vorteilhaft", "billig", "preiswert", "gut"],
        color: "#feca57"
      },
      {
        word: "selbstst√§ndig",
        article: "",
        category: "Adjektive",
        icon: "üïäÔ∏è",
        meaning: "unabh√§ngig; eigenst√§ndig handelnd",
        synonyms: ["unabh√§ngig", "autonom", "eigenverantwortlich", "frei"],
        color: "#feca57"
      },
      {
        word: "√ºberhaupt",
        article: "",
        category: "Adverb",
        icon: "ü§î",
        meaning: "in irgendeiner Weise; √ºberhaupt nicht = gar nicht",
        synonyms: ["g√§nzlich", "v√∂llig", "absolut", "in keiner Weise"],
        color: "#ff9ff3"
      },
      {
        word: "Bericht",
        article: "der",
        category: "Dokumente",
        icon: "üìä",
        meaning: "eine schriftliche oder m√ºndliche Darstellung von Ereignissen oder Ergebnissen",
        synonyms: ["Reportage", "Dokumentation", "Zusammenfassung"],
        color: "#1dd1a1"
      },
      {
        word: "Arbeitsbedingungen",
        article: "die",
        category: "Arbeit",
        icon: "üìã",
        meaning: "die Umst√§nde, unter denen jemand arbeitet (Lohn, Sicherheit, Arbeitszeit)",
        synonyms: ["Arbeitsumst√§nde", "Rahmenbedingungen", "Arbeitsumwelt"],
        color: "#ff6b6b"
      }
    ];

    // ======================
    // DOM ELEMENTE
    // ======================
    const screenCategories = document.getElementById('screen-categories');
    const screenFlashcard = document.getElementById('screen-flashcard');
    const flashcard = document.getElementById('flashcard');
    const wordGerman = document.getElementById('wordGerman');
    const wordArticle = document.getElementById('wordArticle');
    const wordIcon = document.getElementById('wordIcon');
    const wordCategory = document.getElementById('wordCategory');
    const wordMeaning = document.getElementById('wordMeaning');
    const wordSynonyms = document.getElementById('wordSynonyms');
    const currentCardEl = document.getElementById('currentCard');
    const totalCardsEl = document.getElementById('totalCards');
    const progressBar = document.getElementById('progressBar');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const startBtn = document.getElementById('startBtn');
    const categoryCards = document.querySelectorAll('.category-card');
    
    // Game state
    let currentCardIndex = 0;
    let currentCategory = 'all';
    let isCardFlipped = false;
    
    // Initialize
    totalCardsEl.textContent = vocabulary.length;
    
    // ======================
    // EVENT LISTENERS
    // ======================
    
    // Category selection
    categoryCards.forEach(card => {
      card.addEventListener('click', () => {
        currentCategory = card.dataset.category;
      });
    });
    
    // Start learning
    startBtn.addEventListener('click', () => {
      screenCategories.classList.remove('active');
      screenFlashcard.classList.add('active');
      currentCardIndex = 0;
      loadCard(currentCardIndex);
      updateProgress();
    });
    
    // Flashcard flip on tap/click
    flashcard.addEventListener('click', () => {
      flipCard();
    });
    
    // Next card button
    nextBtn.addEventListener('click', () => {
      if (!isCardFlipped) {
        flipCard();
        setTimeout(nextCard, 400);
      } else {
        nextCard();
      }
    });
    
    // Previous card button
    prevBtn.addEventListener('click', () => {
      if (currentCardIndex > 0) {
        currentCardIndex--;
        loadCard(currentCardIndex);
        updateProgress();
        // Ensure card is not flipped when going back
        if (isCardFlipped) {
          flipCard();
          setTimeout(() => {
            if (!isCardFlipped) flipCard();
          }, 300);
        }
      }
    });
    
    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (screenFlashcard.classList.contains('active')) {
        if (e.key === 'ArrowRight' || e.key === ' ') {
          if (!isCardFlipped) {
            flipCard();
            setTimeout(nextCard, 400);
          } else {
            nextCard();
          }
        } else if (e.key === 'ArrowLeft') {
          if (currentCardIndex > 0) {
            currentCardIndex--;
            loadCard(currentCardIndex);
            updateProgress();
            if (isCardFlipped) flipCard();
          }
        }
      }
    });
    
    // ======================
    // GAME FUNCTIONS
    // ======================
    
    // Load card data
    function loadCard(index) {
      const word = vocabulary[index];
      
      // Update UI
      wordIcon.textContent = word.icon;
      wordGerman.textContent = word.word;
      wordArticle.textContent = word.article || '';
      wordCategory.textContent = word.category;
      wordMeaning.textContent = word.meaning;
      
      // Clear and add synonyms
      wordSynonyms.innerHTML = '';
      word.synonyms.forEach(synonym => {
        const synEl = document.createElement('div');
        synEl.className = 'synonym';
        synEl.textContent = synonym;
        wordSynonyms.appendChild(synEl);
      });
      
      // Reset card state
      isCardFlipped = false;
      flashcard.className = 'flashcard';
      
      // Celebrate every 5 cards
      if ((index + 1) % 5 === 0 && index > 0) {
        createConfettiCelebration(25);
      }
    }
    
    // Flip the flashcard
    function flipCard() {
      isCardFlipped = !isCardFlipped;
      flashcard.classList.toggle('flipped');
      
      // Play subtle sound feedback
      playSound(isCardFlipped ? 'flip' : 'flip');
    }
    
    // Go to next card
    function nextCard() {
      currentCardIndex = (currentCardIndex + 1) % vocabulary.length;
      
      if (currentCardIndex === 0) {
        // Completed all cards - restart or show celebration
        createConfettiCelebration(50);
        setTimeout(() => {
          alert('üéâ Gratulation! Du hast alle 17 Karten gelernt!\nM√∂chtest du noch einmal beginnen?');
        }, 1000);
      }
      
      loadCard(currentCardIndex);
      updateProgress();
    }
    
    // Update progress bar
    function updateProgress() {
      currentCardEl.textContent = currentCardIndex + 1;
      progressBar.style.width = `${((currentCardIndex + 1) / vocabulary.length) * 100}%`;
    }
    
    // Play sound feedback
    function playSound(type) {
      try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        
        osc.connect(gain);
        gain.connect(ctx.destination);
        
        if (type === 'flip') {
          osc.type = 'sine';
          osc.frequency.value = isCardFlipped ? 660 : 440;
          gain.gain.value = 0.15;
          osc.start();
          setTimeout(() => {
            osc.stop();
            ctx.close();
          }, 150);
        }
      } catch (e) {
        // Silent failure for audio
      }
    }
    
    // Create confetti celebration
    function createConfettiCelebration(count = 30) {
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.backgroundColor = getRandomConfettiColor();
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = `${Math.random() * 20}%`;
        confetti.style.width = `${Math.random() * 7 + 3}px`;
        confetti.style.height = confetti.style.width;
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        confetti.style.opacity = Math.random();
        confetti.style.zIndex = '2000';
        
        document.body.appendChild(confetti);
        
        // Remove after animation
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }
    
    // Get random confetti color
    function getRandomConfettiColor() {
      const colors = ['#3a7bd5', '#00a8ff', '#ff6b6b', '#48dbfb', '#feca57', '#ff9ff3', '#1dd1a1', '#a4b0be'];
      return colors[Math.floor(Math.random() * colors.length)];
    }
    
    // ======================
    // INITIALIZATION
    // ======================
    
    // Initialize on load
    window.addEventListener('load', () => {
      // Add floating animation to logo letters
      document.querySelectorAll('.logo-letter').forEach((letter, index) => {
        setTimeout(() => {
          letter.style.animation = 'float 3.5s ease-in-out infinite';
          letter.style.animationDelay = `${index * 0.2}s`;
        }, 300);
      });
      
      // Auto-focus start button on mobile
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        setTimeout(() => {
          startBtn.focus();
        }, 500);
      }
      
      // Subtle pulse animation for start button
      setInterval(() => {
        startBtn.style.transform = 'scale(1.02)';
        setTimeout(() => {
          startBtn.style.transform = 'scale(1)';
        }, 300);
      }, 3000);
    });
    
    // Touch support for mobile swipe
    let touchStartX = 0;
    let touchEndX = 0;
    
    flashcard.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });
    
    flashcard.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    
    function handleSwipe() {
      if (touchEndX < touchStartX - 50) {
        // Swipe left - go to next card
        if (isCardFlipped) {
          nextCard();
        } else {
          flipCard();
          setTimeout(nextCard, 400);
        }
      } else if (touchEndX > touchStartX + 50) {
        // Swipe right - flip card or go back
        if (!isCardFlipped) {
          flipCard();
        } else if (currentCardIndex > 0) {
          currentCardIndex--;
          loadCard(currentCardIndex);
          updateProgress();
          flipCard();
        }
      }
    }
  </script>
</body>
</html>
